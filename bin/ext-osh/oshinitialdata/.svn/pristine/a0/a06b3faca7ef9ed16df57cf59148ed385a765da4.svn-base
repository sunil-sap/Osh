# 
# Import the Product Catalog and Classification Catalog for OSH
#

$classificationCatalog=OSHClassification
$languages=en

# ImpEx for Importing Category Classifications into OSH Store

# Macros / Replacement Parameter definitions
$productCatalog=oshProductCatalog
$productCatalogName=OSH Product Catalog
$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog:Staged]
$classCatalogVersion=catalogversion(catalog(id[default='OSHClassification']),version[default='1.0'])[unique=true,default='OSHClassification:1.0']
$classSystemVersion=systemVersion(catalog(id[default='OSHClassification']),version[default='1.0'])[unique=true]
$class=classificationClass(ClassificationClass.code,$classCatalogVersion)[unique=true]
$supercategories=source(code, $classCatalogVersion)[unique=true]
$categories=target(code, $catalogVersion)[unique=true]
$attribute=classificationAttribute(code,$classSystemVersion)[unique=true]
$unit=unit(code,$classSystemVersion)

$clAttrModifiers=system='OSHClassification',version='1.0',translator=de.hybris.platform.catalog.jalo.classification.impex.ClassificationAttributeTranslator,lang=en

$systemVersion=systemVersion(catalog(id[default='OSHClassification']),version[default='1.0'])

# OSH Classification catalog
INSERT_UPDATE ClassificationSystem;id[unique=true]
;$classificationCatalog

# Insert Classifications System Version
INSERT_UPDATE ClassificationSystemVersion;catalog(id)[unique=true];version[unique=true];active;inclPacking[virtual=true,default=true];inclDuty[virtual=true,default=true];inclFreight[virtual=true,default=true];inclAssurance[virtual=true,default=true]
;$classificationCatalog;1.0;true

# Insert Classifications
INSERT_UPDATE ClassificationClass;$classCatalogVersion;code[unique=true];allowedPrincipals(uid)[default='customergroup']
;;1000
;;1001
;;1002
;;1003

INSERT_UPDATE ClassificationAttribute;$classSystemVersion;code[unique=true];name
;;Non-operating relative hu, 1001;Non-operating relative
;;Operating relative humidi, 1002;humidi
;;Recommended operating tem, 1003;operating tem
;;Height,1004;Height
;;Hazardous,1005;Hazardous

INSERT_UPDATE ClassificationAttributeUnit;code[unique=true];symbol;unitType;name[lang=en];;name[lang=de];$systemVersion[unique=true]
;64;%;64;percent;pour cent;Prozent
;65;°C;65;degrees Celcium;degrés celcius;Grad Celsius
;66;mm;66;millimeter;millimeter;millimeter
;67;String;;String;String

INSERT_UPDATE ClassAttributeAssignment;$class;$attribute;position;$unit;attributeType(code[default=string]);multiValued[default=false];range[default=false];localized[default=true]
 ;1000;Non-operating relative hu, 1001;1;64;number;true;true
 ;1000;Operating relative humidi, 1002;2;64;number;true;true
 ;1000;Recommended operating tem, 1003;3;65;number;true;true
 ;1001;Height,1004;1;66;number;false;false
 ;1002;Hazardous,1005;1;67;;false;false
 
 
#$feature1=@Tripod legs, 1001[$clAttrModifiers];  # Tripod legs
#$feature2=@Mounting, 1002[$clAttrModifiers];  # Mounting
#$feature3=@Colour of product, 1003[$clAttrModifiers];  # Colour of product
#INSERT_UPDATE Product;code[unique=true];$feature1;$feature2;$feature3;$catalogVersion;
#;P-OEF1000010;<ignore>;<ignore>;Silver/Black;
#;P-OEF10001;3 leg(s);Floor-standing;<ignore>;
#;P-OEF1100011;<ignore>;Quick-release Mounting Shoe;<ignore>;

#UPDATE ClassificationClass;$classCatalogVersion;code[unique=true];name[lang=$lang]
#;;1000;Environmental conditions

#UPDATE ClassificationAttribute;$classSystemVersion;code[unique=true];name[lang=$lang]
#;;Non-operating relative hu, 1001;Non-operating relative humidity (non-condensing)
#;;Operating relative humidi, 1002;Operating relative humidity range
#;;Recommended operating tem, 1003;Recommended operating temperature range (T-T)