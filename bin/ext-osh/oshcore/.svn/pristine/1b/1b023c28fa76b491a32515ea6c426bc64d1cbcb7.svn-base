package com.hybris.osh.core.shipping;

import de.hybris.platform.servicelayer.model.attribute.DynamicAttributeHandler;

import com.hybris.osh.core.model.OSHShippingModel;


/**
 * To Calculate Final Shipping amount based on weight and zipcode.
 * 
 */
public class CalculateFinalShippingAmount implements DynamicAttributeHandler<Double, OSHShippingModel>
{

	@SuppressWarnings("boxing")
	@Override
	public Double get(final OSHShippingModel model)
	{
		final double shippingCharge = model.getShippingCost().doubleValue();
		if (shippingCharge != 0.0)
		{
			final double deliveryCost = shippingCharge + (shippingCharge * model.getOSHMarkUp() / 100);
			final double roundOff = Math.round(deliveryCost * 100) / 100D;
			return roundOff;
		}
		return shippingCharge;

	}

	@Override
	public void set(final OSHShippingModel model, final Double value)
	{
		throw new UnsupportedOperationException();

	}


}
